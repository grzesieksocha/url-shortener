{% extends 'base.html' %}

{% block title %}URL Shortener{% endblock %}

{% block main %}

<h1>URL Shortener</h1>

<form action="shortened" method="post">
    <label for="url">Website URL to shorten</label>
    <input type="url" name="url" value="" required>
    <br>
    <label for="code">Short name</label>
    <input type="text" name="code" value="" required>
    <br>
    <input type="submit" value="Shorten">
</form>

<form action="shortened" method="post" enctype="multipart/form-data">
    <label for="file">File</label>
    <input type="file" name="file" value="" required>
    <br>
    <label for="code">Short name</label>
    <input type="text" name="code" value="" required>
    <br>
    <input type="submit" value="Shorten">
</form>

{% if codes %}
    <h2>Codes you have created:</h2>
    <ul>
        {% for code in codes %}
            <li><a href="{{ url_for('redirect_to_saved_url', code=code) }}">{{ code }}</a>  (created: {{ codes[code].strftime("%d/%m/%Y %H:%M:%S") }})</li>
        {% endfor %}
    </ul>
{% endif %}

{% endblock %}